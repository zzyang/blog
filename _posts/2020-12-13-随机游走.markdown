---
layout: post
title:  随机游走
date:   2020-12-06 10:27:31 +0800
tags:   模型思维
categories: 思维方式
mathjax: true
---



## 伯努利瓮模型（Bernoulli urn model）

伯努利瓮模型由一个装了灰球和白球的瓮组成。从瓮中抽取的球代表随机事件的结果。每次抽取都与之前和之后的抽取无关，因此我们可以应用大数定律：从长远来看，抽出每种颜色的球的比例将会收敛到这个球在瓮中的比例。

**大数定律说明平均比例是收敛的，而中心极限定理则告诉我们白球比例的分布是正态的。**

> 每一次，从一个装了G个灰球和W个白球的瓮中随机抽取一个球，结果等于抽取出来的球的颜色。在下一次抽取之前，球要先放回瓮中。令P = G/(G+W)表示灰球的比例。在抽取N次的情况下，可以计算出抽取出来的灰球的期望数量N<sub>G</sub>，及其标准差：
>
>![](https://github.com/zzyang/zzyang.github.io/blob/master/_posts/pic/00182.jpeg?raw=true)

在灰球和白球数量相等的瓮中，抽取出白球的概率等于1/2，连续抽取出两个白球的概率等于1/2乘以1/2，以此类推。一般情况下，如果瓮中白球的比例为P，那么连续抽取N个白球的概率等于P<sup>N</sup>。通过计算概率，我们可以评估某种运气是不是有可能出现（尽管很令人吃惊），或是几乎完全不可能（因而基本上可以肯定“有诈”）。

<i>

一位三分球命中率为46%的篮球运动员连续投中9个三分球的概率大约为1/1 000（0.469）。如果这个篮球运动员一直继续投三分，那么在10年的NBA生涯中（总共参加大约800场比赛），一次都做不到三分球9投9中的概率大约为47%（0.999800）。

任何一次投篮或罚球命中的概率是否与前一次的成功相关？在考虑“热手效应”的证据时，我们必须考虑到行为。如果一名篮球运动员认为自己的手感很好，那么可能会尝试更加困难的投篮。此外，如果防守方觉得对方哪个运动员手感太好，他们就会收紧对他的防守。这些行为反应在模型中可以通过加大难度来体现。有一些研究收集了多名（例如）篮球运动员投篮命中和不中的序列；然后再计算随机选择的多次投篮后某次投篮命中的概率。这种采样程序会引入一种微妙的统计偏差。

为了说明这种偏差，不妨考虑如下这种情况：多名篮球运动员每人只投篮4次，而且每次投篮都有相同的命中概率，这样就有16种可能的投篮命中和未命中的序列。我们用B代表投篮命中，用M代表投篮不中。在这16个序列中，有6个是连续两次命中后再接着投篮一次产生的，它们是：BBBB，BBBM，MBBB，BBMB，BBMM和MBBM。这些都是连续两次投篮命中后再投第三次篮的情形。如果抽到了BBBB，那么无论选择哪一个由两个B组成的序列，那么接下来再投篮命中的概率都等于100%。如果选择了MBBB，那么B跟着BB出现的概率也等于100%。但是，如果选择了BBBM，那么BB之后出现M的概率等于50%。最后，如果选择的是MBBM、BBMB或BBMM，那么M必定会在BB之后出现。求这6种情况的平均值：

> ![](https://github.com/zzyang/zzyang.github.io/blob/master/_posts/pic/00159.jpeg?raw=true)

之所以会产生偏差，是因为在序列BBBB中，有两个BB可以选择，但是在其他序列中，则只有一个（例如，BBMB）。前述采样程序使得BBBB的这两个子序列中的每一个被选中的概率都仅为BBMB中的那一个子序列的一半。这种偏差的含义是，如果不存在“热手效应”，那么这种采样程序就已经证明投篮命中后再投篮时更有可能不中。当然事实并非如此，而这就意味着投篮命中之后再投篮实际上更有可能命中。

</i>

## 随机游走模型

随机游走模型建立在伯努利瓮模型的基础上的，保持了正面和反面的总数。这个模型可以刻画液体和气体中粒子的运动，动物在物理空间中的活动，以及从出生到童年人体身高的增长，等等。

将初始值，也就是模型的初始状态设置为零。如果我们抽取出一个白球，就在总数上加1；如果抽取出一个灰球，就从总数中减1。模型在任何时候的状态都等于先前结果的总和，也就是抽取出来的白球总数减去抽取出来的灰球总数的值。


### 简单随机游走模型

V<sub>t+1</sub>=V<sub>t</sub>+R（-1，1）

其中，V<sub>t</sub>表示时间t上的随机游走值，V0=0，R（-1，1）是一个可能等于-1或1的随机变量。在任何时间段内，这个随机游走的期望值都等于零，且标准差为$\sqrt{t}$，其中的t等于周期数。

*一个随机游走的值是相同的、独立的随机变量的总和，我们就可以求解标准差。每个随机变量的均值都为零，而且取值为+1或-1。因此，每个都具有1的标准差。设置σ=1并且对所得到的总和应用西格玛平方根公式，就可以得出标准差。*

![一个300周期的简单随机游走](https://github.com/zzyang/zzyang.github.io/blob/master/_posts/pic/00188.jpeg?raw=true)

一维和二维随机游走会无限次地回到起点，而三维随机游走则可能完全不需要回到起点。

对于一维随机游走，回到零点之间的时间间隔分布遵循幂律分布。